# -*- coding: UTF-8 -*-
from bs4 import BeautifulSoup
import json
import requests
import random
import datetime
import re
from decimal import Decimal as D
from commons import common
from commons.const import const


class GetRole:
    def __init__(self, cookie, csrf):
        self.common = common.Common(cookie, csrf)
        self.baseUrl = const.BASE_URL

    def get_roles_id(self):
        url =self.baseUrl + 'user_center/roles'
        body = {}
        response = self.common.get_response_json(url, body, 'get_role_list')
        # print (response.content)
        soup = BeautifulSoup(response.text, "html.parser")
        og_id =re.findall(r'window\.current_org_id\s+=\s+\'(\d+)', str(soup))
        soup = response.text.split('description')
        roles_id = []
        for i in range(len(soup)-1):
            id = re.findall(r'"id":(\d+),"name":"(?P<name>\w*)"', str(soup[i]))
            roles_id.append(id[len(id)-1])
        return  roles_id, og_id

    def set_data_authority(self,entity_grant_scope='self_and_subordinate_department_own'):
        # entity_grant_scope = 'organization_own'
        # entity_grant_scope = 'self_and_subordinate_department_own'
        url = self.baseUrl + 'api/roles/' + str(self.get_roles_id()[0][1][0])
        or_id = self.get_roles_id()[1][0]
        payload = {
            "role": {
                "id": self.get_roles_id()[0][1][0],
                "name": self.get_roles_id()[0][1][1],
                "description": 'null',
                "organization_id": or_id,
                "created_at": "2018-04-24T15:20:45.000+08:00",
                "updated_at": "2019-01-17T15:50:31.000+08:00",
                "settings": {
                    "default_role": 'true'
                },
                "entity_grant_scope": entity_grant_scope,
                "field_permission_grant_scope": "all_data",
                "fields_permission_display": {
                    "lead": {
                        "model_name": "线索",
                        "setting": [{
                            "edit": "-1",
                            "name": "name",
                            "label": "姓名"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "company_name",
                            "label": "公司名称"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "job",
                            "label": "职务"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.tel",
                            "label": "电话"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.phone",
                            "label": "手机"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.wechat",
                            "label": "微信号"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.qq",
                            "label": "QQ号"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.wangwang",
                            "label": "旺旺号"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.email",
                            "label": "邮箱"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.url",
                            "label": "网址"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.region_info",
                            "label": "地区"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.detail_address",
                            "label": "地址"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.zip",
                            "label": "邮编"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "status_mapped",
                            "label": "跟进状态"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "source_mapped",
                            "label": "线索来源"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "revisit_remind_at",
                            "label": "下次跟进时间"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "note",
                            "label": "备注"
                        }]
                    },
                    "customer": {
                        "model_name": "客户",
                        "setting": [{
                            "edit": "-1",
                            "name": "name",
                            "label": "客户名称"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "labels_mapped",
                            "label": "标签"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "category_mapped",
                            "label": "客户类型"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "parent.name",
                            "label": "上级客户"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.email",
                            "label": "邮箱"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.fax",
                            "label": "传真"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.url",
                            "label": "网址"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.region_info",
                            "label": "地区"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.detail_address",
                            "label": "地址"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.zip",
                            "label": "邮编"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "status_mapped",
                            "label": "跟进状态"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "source_mapped",
                            "label": "客户来源"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "industry_mapped",
                            "label": "所属行业"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "staff_size_mapped",
                            "label": "人员规模"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "revisit_remind_at",
                            "label": "下次跟进时间"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "note",
                            "label": "备注"
                        }]
                    },
                    "contact": {
                        "model_name": "联系人",
                        "setting": [{
                            "edit": "-1",
                            "name": "name",
                            "label": "姓名"
                        }, {
                            "edit": "-1",
                            "name": "customer.name",
                            "label": "对应客户"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "department",
                            "label": "部门"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "job",
                            "label": "职务"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.tel",
                            "label": "电话"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.phone",
                            "label": "手机"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.wechat",
                            "label": "微信号"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.qq",
                            "label": "QQ号"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.wangwang",
                            "label": "旺旺号"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.email",
                            "label": "邮箱"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.url",
                            "label": "网址"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.region_info",
                            "label": "地区"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.detail_address",
                            "label": "地址"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "address.zip",
                            "label": "邮编"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "gender_i18n",
                            "label": "性别"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "birth_date",
                            "label": "生日"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "note",
                            "label": "备注"
                        }]
                    },
                    "contract": {
                        "model_name": "合同",
                        "setting": [{
                            "edit": "-1",
                            "name": "title",
                            "label": "合同标题"
                        }, {
                            "edit": "-1",
                            "name": "customer.name",
                            "label": "对应客户"
                        }, {
                            "edit": "-1",
                            "name": "opportunity.title",
                            "label": "对应商机"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "product_assets",
                            "label": "关联产品"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "total_amount",
                            "label": "合同总金额"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "sign_date",
                            "label": "签约日期"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "start_at",
                            "label": "合同开始日期"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "end_at",
                            "label": "合同结束日期"
                        }, {
                            "status": "-1",
                            "name": "checking_payments_amount",
                            "label": "已开票金额"
                        }, {
                            "status": "-1",
                            "name": "received_payments_amount",
                            "label": "已回款金额"
                        }, {
                            "status": "-1",
                            "name": "unreceived_amount",
                            "label": "未回款金额"
                        }, {
                            "status": "-1",
                            "name": "unchecking_payments_amount",
                            "label": "未开票金额"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "status_mapped",
                            "label": "合同状态"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "sn",
                            "label": "合同编号"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "category_mapped",
                            "label": "合同类型"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "payment_type_mapped",
                            "label": "付款方式"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "customer_signer",
                            "label": "客户方签约人"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "our_signer",
                            "label": "我方签约人"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "attachments",
                            "label": "合同附件"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "revisit_remind_at",
                            "label": "下次跟进时间"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "special_terms",
                            "label": "备注"
                        }, {
                            "status": "-1",
                            "name": "product_asset.standard_unit_price",
                            "label": "[关联产品]标准单价"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "product_asset.recommended_unit_price",
                            "label": "[关联产品]售价"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "product_asset.quantity",
                            "label": "[关联产品]数量"
                        }, {
                            "status": "-1",
                            "name": "product_asset.discount",
                            "label": "[关联产品]折扣"
                        }, {
                            "status": "-1",
                            "name": "product_asset.total_price",
                            "label": "[关联产品]总价"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "product_asset.remark",
                            "label": "[关联产品]备注"
                        }]
                    },
                    "opportunity": {
                        "model_name": "商机",
                        "setting": [{
                            "edit": "-1",
                            "name": "title",
                            "label": "商机标题"
                        }, {
                            "edit": "-1",
                            "name": "customer.name",
                            "label": "对应客户"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "contact_assetships",
                            "label": "关联联系人"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "product_assets",
                            "label": "关联产品"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "expect_amount",
                            "label": "预计销售金额"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "expect_sign_date",
                            "label": "预计签单日期"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "stage_mapped",
                            "label": "销售阶段"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "kind_mapped",
                            "label": "商机类型"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "get_time",
                            "label": "商机获取日期"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "source_mapped",
                            "label": "商机来源"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "revisit_remind_at",
                            "label": "下次跟进时间"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "note",
                            "label": "备注"
                        }, {
                            "status": "-1",
                            "name": "product_asset.standard_unit_price",
                            "label": "[关联产品]标准单价"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "product_asset.recommended_unit_price",
                            "label": "[关联产品]售价"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "product_asset.quantity",
                            "label": "[关联产品]数量"
                        }, {
                            "status": "-1",
                            "name": "product_asset.discount",
                            "label": "[关联产品]折扣"
                        }, {
                            "status": "-1",
                            "name": "product_asset.total_price",
                            "label": "[关联产品]总价"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "product_asset.remark",
                            "label": "[关联产品]备注"
                        }]
                    },
                    "product": {
                        "model_name": "产品",
                        "setting": [{
                            "edit": "-1",
                            "name": "name",
                            "label": "产品名称"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "standard_unit_price",
                            "label": "标准单价"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "unit_cost",
                            "label": "单位成本"
                        }, {
                            "status": "-1",
                            "name": "gross_margin",
                            "label": "毛利率"
                        }, {
                            "edit": "-1",
                            "status": "-1",
                            "name": "text_asset_afe13a",
                            "label": "规格"
                        }]
                    }
                },
                "field_permission_setting": {
                    "lead": [{
                        "name": "name",
                        "edit": "-1"
                    }, {
                        "name": "company_name",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "job",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.tel",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.phone",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.wechat",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.qq",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.wangwang",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.email",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.url",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.region_info",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.detail_address",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.zip",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "status_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "source_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "revisit_remind_at",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "note",
                        "status": "-1",
                        "edit": "-1"
                    }],
                    "customer": [{
                        "name": "name",
                        "edit": "-1"
                    }, {
                        "name": "labels_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "category_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "parent.name",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.email",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.fax",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.url",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.region_info",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.detail_address",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.zip",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "status_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "source_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "industry_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "staff_size_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "revisit_remind_at",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "note",
                        "status": "-1",
                        "edit": "-1"
                    }],
                    "contact": [{
                        "name": "name",
                        "edit": "-1"
                    }, {
                        "name": "customer.name",
                        "edit": "-1"
                    }, {
                        "name": "department",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "job",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.tel",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.phone",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.wechat",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.qq",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.wangwang",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.email",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.url",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.region_info",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.detail_address",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "address.zip",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "gender_i18n",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "birth_date",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "note",
                        "status": "-1",
                        "edit": "-1"
                    }],
                    "opportunity": [{
                        "name": "title",
                        "edit": "-1"
                    }, {
                        "name": "customer.name",
                        "edit": "-1"
                    }, {
                        "name": "contact_assetships",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "product_assets",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "expect_amount",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "expect_sign_date",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "stage_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "kind_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "get_time",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "source_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "revisit_remind_at",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "note",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "product_asset.standard_unit_price",
                        "status": "-1"
                    }, {
                        "name": "product_asset.recommended_unit_price",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "product_asset.quantity",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "product_asset.discount",
                        "status": "-1"
                    }, {
                        "name": "product_asset.total_price",
                        "status": "-1"
                    }, {
                        "name": "product_asset.remark",
                        "status": "-1",
                        "edit": "-1"
                    }],
                    "contract": [{
                        "name": "title",
                        "edit": "-1"
                    }, {
                        "name": "customer.name",
                        "edit": "-1"
                    }, {
                        "name": "opportunity.title",
                        "edit": "-1"
                    }, {
                        "name": "product_assets",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "total_amount",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "sign_date",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "start_at",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "end_at",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "checking_payments_amount",
                        "status": "-1"
                    }, {
                        "name": "received_payments_amount",
                        "status": "-1"
                    }, {
                        "name": "unreceived_amount",
                        "status": "-1"
                    }, {
                        "name": "unchecking_payments_amount",
                        "status": "-1"
                    }, {
                        "name": "status_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "sn",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "category_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "payment_type_mapped",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "customer_signer",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "our_signer",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "attachments",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "revisit_remind_at",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "special_terms",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "product_asset.standard_unit_price",
                        "status": "-1"
                    }, {
                        "name": "product_asset.recommended_unit_price",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "product_asset.quantity",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "product_asset.discount",
                        "status": "-1"
                    }, {
                        "name": "product_asset.total_price",
                        "status": "-1"
                    }, {
                        "name": "product_asset.remark",
                        "status": "-1",
                        "edit": "-1"
                    }],
                    "product": [{
                        "name": "name",
                        "edit": "-1"
                    }, {
                        "name": "standard_unit_price",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "unit_cost",
                        "status": "-1",
                        "edit": "-1"
                    }, {
                        "name": "gross_margin",
                        "status": "-1"
                    }, {
                        "name": "text_asset_afe13a",
                        "status": "-1",
                        "edit": "-1"
                    }]
                },
                "permissions": [{
                    "id": 39,
                    "name": "查看销售线索资料",
                    "subject": "lead",
                    "action": "show",
                    "created_at": "2014-08-01T17:06:55.000+08:00",
                    "updated_at": "2014-08-01T17:06:55.000+08:00"
                }, {
                    "id": 63,
                    "name": "查看角色",
                    "subject": "role",
                    "action": "show",
                    "created_at": "2014-12-16T11:28:07.000+08:00",
                    "updated_at": "2014-12-16T11:28:07.000+08:00"
                }, {
                    "id": 26,
                    "name": "编辑角色",
                    "subject": "role",
                    "action": "edit",
                    "created_at": "2014-07-23T17:19:05.000+08:00",
                    "updated_at": "2014-07-23T17:19:05.000+08:00"
                }, {
                    "id": 41,
                    "name": "创建销售线索",
                    "subject": "lead",
                    "action": "create",
                    "created_at": "2014-08-01T17:06:55.000+08:00",
                    "updated_at": "2014-08-01T17:06:55.000+08:00"
                }, {
                    "id": 38,
                    "name": "编辑销售线索资料",
                    "subject": "lead",
                    "action": "edit",
                    "created_at": "2014-08-01T17:06:55.000+08:00",
                    "updated_at": "2014-08-01T17:06:55.000+08:00"
                }, {
                    "id": 40,
                    "name": "删除销售线索",
                    "subject": "lead",
                    "action": "destroy",
                    "created_at": "2014-08-01T17:06:55.000+08:00",
                    "updated_at": "2014-08-01T17:06:55.000+08:00"
                }, {
                    "id": 60,
                    "name": "导入线索",
                    "subject": "lead",
                    "action": "import",
                    "created_at": "2014-12-16T11:28:06.000+08:00",
                    "updated_at": "2014-12-16T11:28:06.000+08:00"
                }, {
                    "id": 61,
                    "name": "导出线索",
                    "subject": "lead",
                    "action": "export",
                    "created_at": "2014-12-16T11:28:06.000+08:00",
                    "updated_at": "2014-12-16T11:28:06.000+08:00"
                }, {
                    "id": 240,
                    "name": "转成客户",
                    "subject": "lead",
                    "action": "turn_to_customer",
                    "created_at": "2017-03-22T16:49:18.000+08:00",
                    "updated_at": "2017-03-22T16:49:18.000+08:00"
                }, {
                    "id": 88,
                    "name": "转移线索给他人",
                    "subject": "lead",
                    "action": "transfer",
                    "created_at": "2015-05-11T18:05:45.000+08:00",
                    "updated_at": "2015-05-11T18:05:45.000+08:00"
                }, {
                    "id": 2,
                    "name": "查看客户资料",
                    "subject": "customer",
                    "action": "show",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 246,
                    "name": "客户合并",
                    "subject": "customer",
                    "action": "merge",
                    "created_at": "2017-04-24T17:49:00.000+08:00",
                    "updated_at": "2017-04-24T17:49:00.000+08:00"
                }, {
                    "id": 4,
                    "name": "创建客户",
                    "subject": "customer",
                    "action": "create",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 84,
                    "name": "转移至客户公海",
                    "subject": "settings",
                    "action": "turn_customer_common",
                    "created_at": "2015-04-24T11:49:35.000+08:00",
                    "updated_at": "2015-04-24T11:49:35.000+08:00"
                }, {
                    "id": 1,
                    "name": "编辑客户资料",
                    "subject": "customer",
                    "action": "edit",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 85,
                    "name": "导入至客户公海",
                    "subject": "settings",
                    "action": "import_customer_common",
                    "created_at": "2015-04-24T16:08:20.000+08:00",
                    "updated_at": "2015-04-24T16:08:20.000+08:00"
                }, {
                    "id": 3,
                    "name": "删除客户",
                    "subject": "customer",
                    "action": "destroy",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 232,
                    "name": "查看客户公海",
                    "subject": "settings",
                    "action": "show_customer_common",
                    "created_at": "2016-06-07T13:58:57.000+08:00",
                    "updated_at": "2016-06-07T13:58:57.000+08:00"
                }, {
                    "id": 55,
                    "name": "导入客户",
                    "subject": "customer",
                    "action": "import",
                    "created_at": "2014-12-16T11:28:06.000+08:00",
                    "updated_at": "2014-12-16T11:28:06.000+08:00"
                }, {
                    "id": 56,
                    "name": "导出客户",
                    "subject": "customer",
                    "action": "export",
                    "created_at": "2014-12-16T11:28:06.000+08:00",
                    "updated_at": "2014-12-16T11:28:06.000+08:00"
                }, {
                    "id": 86,
                    "name": "转移客户给他人",
                    "subject": "customer",
                    "action": "transfer",
                    "created_at": "2015-05-11T18:05:45.000+08:00",
                    "updated_at": "2015-05-11T18:05:45.000+08:00"
                }, {
                    "id": 6,
                    "name": "查看联系人资料",
                    "subject": "contact",
                    "action": "show",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 8,
                    "name": "创建联系人",
                    "subject": "contact",
                    "action": "create",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 5,
                    "name": "编辑联系人资料",
                    "subject": "contact",
                    "action": "edit",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 7,
                    "name": "删除联系人",
                    "subject": "contact",
                    "action": "destroy",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 57,
                    "name": "导入联系人",
                    "subject": "contact",
                    "action": "import",
                    "created_at": "2014-12-16T11:28:06.000+08:00",
                    "updated_at": "2014-12-16T11:28:06.000+08:00"
                }, {
                    "id": 58,
                    "name": "导出联系人",
                    "subject": "contact",
                    "action": "export",
                    "created_at": "2014-12-16T11:28:06.000+08:00",
                    "updated_at": "2014-12-16T11:28:06.000+08:00"
                }, {
                    "id": 9,
                    "name": "编辑商机资料",
                    "subject": "opportunity",
                    "action": "edit",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 12,
                    "name": "创建商机",
                    "subject": "opportunity",
                    "action": "create",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 10,
                    "name": "查看商机资料",
                    "subject": "opportunity",
                    "action": "show",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 285,
                    "name": "打印商机",
                    "subject": "opportunity",
                    "action": "print",
                    "created_at": "2018-01-17T18:39:12.000+08:00",
                    "updated_at": "2018-01-17T18:39:12.000+08:00"
                }, {
                    "id": 11,
                    "name": "删除商机",
                    "subject": "opportunity",
                    "action": "destroy",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 96,
                    "name": "导入商机",
                    "subject": "opportunity",
                    "action": "import",
                    "created_at": "2015-08-24T15:14:04.000+08:00",
                    "updated_at": "2015-08-24T15:14:04.000+08:00"
                }, {
                    "id": 59,
                    "name": "导出商机",
                    "subject": "opportunity",
                    "action": "export",
                    "created_at": "2014-12-16T11:28:06.000+08:00",
                    "updated_at": "2014-12-16T11:28:06.000+08:00"
                }, {
                    "id": 87,
                    "name": "转移商机给他人",
                    "subject": "opportunity",
                    "action": "transfer",
                    "created_at": "2015-05-11T18:05:45.000+08:00",
                    "updated_at": "2015-05-11T18:05:45.000+08:00"
                }, {
                    "id": 14,
                    "name": "查看合同资料",
                    "subject": "contract",
                    "action": "show",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 286,
                    "name": "打印合同",
                    "subject": "contract",
                    "action": "print",
                    "created_at": "2018-01-17T18:39:12.000+08:00",
                    "updated_at": "2018-01-17T18:39:12.000+08:00"
                }, {
                    "id": 16,
                    "name": "创建合同",
                    "subject": "contract",
                    "action": "create",
                    "created_at": "2014-07-23T17:19:05.000+08:00",
                    "updated_at": "2014-07-23T17:19:05.000+08:00"
                }, {
                    "id": 16,
                    "name": "创建合同",
                    "subject": "contract",
                    "action": "create",
                    "created_at": "2014-07-23T17:19:05.000+08:00",
                    "updated_at": "2014-07-23T17:19:05.000+08:00"
                }, {
                    "id": 13,
                    "name": "编辑合同资料",
                    "subject": "contract",
                    "action": "edit",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 15,
                    "name": "删除合同",
                    "subject": "contract",
                    "action": "destroy",
                    "created_at": "2014-07-23T17:19:04.000+08:00",
                    "updated_at": "2014-07-23T17:19:04.000+08:00"
                }, {
                    "id": 62,
                    "name": "导出合同",
                    "subject": "contract",
                    "action": "export",
                    "created_at": "2014-12-16T11:28:07.000+08:00",
                    "updated_at": "2014-12-16T11:28:07.000+08:00"
                }, {
                    "id": 97,
                    "name": "导入合同",
                    "subject": "contract",
                    "action": "import",
                    "created_at": "2015-08-24T15:14:04.000+08:00",
                    "updated_at": "2015-08-24T15:14:04.000+08:00"
                }, {
                    "id": 89,
                    "name": "转移合同给他人",
                    "subject": "contract",
                    "action": "transfer",
                    "created_at": "2015-05-11T18:05:46.000+08:00",
                    "updated_at": "2015-05-11T18:05:46.000+08:00"
                }, {
                    "id": 254,
                    "name": "配置回款计划",
                    "subject": "received_payment_plan",
                    "action": "crud",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 260,
                    "name": "导入回款记录",
                    "subject": "received_payment",
                    "action": "import",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 261,
                    "name": "导出回款记录",
                    "subject": "received_payment",
                    "action": "export",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 255,
                    "name": "导出回款计划",
                    "subject": "received_payment_plan",
                    "action": "export",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 256,
                    "name": "查看回款记录",
                    "subject": "received_payment",
                    "action": "show",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 262,
                    "name": "查看开票记录",
                    "subject": "invoiced_payment",
                    "action": "show",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 257,
                    "name": "新增回款记录",
                    "subject": "received_payment",
                    "action": "create",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 263,
                    "name": "新增开票记录",
                    "subject": "invoiced_payment",
                    "action": "create",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 258,
                    "name": "编辑回款记录",
                    "subject": "received_payment",
                    "action": "edit",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 264,
                    "name": "编辑开票记录",
                    "subject": "invoiced_payment",
                    "action": "edit",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 259,
                    "name": "删除回款记录",
                    "subject": "received_payment",
                    "action": "destroy",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 265,
                    "name": "删除开票记录",
                    "subject": "invoiced_payment",
                    "action": "destroy",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 266,
                    "name": "导入开票记录",
                    "subject": "invoiced_payment",
                    "action": "import",
                    "created_at": "2017-06-14T01:38:06.000+08:00",
                    "updated_at": "2017-06-14T01:38:06.000+08:00"
                }, {
                    "id": 268,
                    "name": "导入回款计划",
                    "subject": "received_payment_plan",
                    "action": "import",
                    "created_at": "2017-06-15T19:30:49.000+08:00",
                    "updated_at": "2017-06-15T19:30:49.000+08:00"
                }, {
                    "id": 294,
                    "name": "查看活动",
                    "subject": "social_promotion",
                    "action": "show",
                    "created_at": "2018-09-02T14:25:59.000+08:00",
                    "updated_at": "2018-09-02T14:25:59.000+08:00"
                }, {
                    "id": 295,
                    "name": "新增活动",
                    "subject": "social_promotion",
                    "action": "create",
                    "created_at": "2018-09-02T14:25:59.000+08:00",
                    "updated_at": "2018-09-02T14:25:59.000+08:00"
                }, {
                    "id": 296,
                    "name": "编辑活动",
                    "subject": "social_promotion",
                    "action": "edit",
                    "created_at": "2018-09-02T14:25:59.000+08:00",
                    "updated_at": "2018-09-02T14:25:59.000+08:00"
                }, {
                    "id": 297,
                    "name": "删除活动",
                    "subject": "social_promotion",
                    "action": "destroy",
                    "created_at": "2018-09-02T14:25:59.000+08:00",
                    "updated_at": "2018-09-02T14:25:59.000+08:00"
                }, {
                    "id": 64,
                    "name": "查看产品",
                    "subject": "product",
                    "action": "show",
                    "created_at": "2014-12-16T11:28:07.000+08:00",
                    "updated_at": "2014-12-16T11:28:07.000+08:00"
                }, {
                    "id": 50,
                    "name": "新建产品",
                    "subject": "product",
                    "action": "create",
                    "created_at": "2014-11-06T16:10:22.000+08:00",
                    "updated_at": "2014-11-06T16:10:22.000+08:00"
                }, {
                    "id": 46,
                    "name": "编辑产品",
                    "subject": "product",
                    "action": "edit",
                    "created_at": "2014-11-03T18:07:30.000+08:00",
                    "updated_at": "2014-11-03T18:07:30.000+08:00"
                }, {
                    "id": 48,
                    "name": "删除产品",
                    "subject": "product",
                    "action": "destroy",
                    "created_at": "2014-11-03T18:07:30.000+08:00",
                    "updated_at": "2014-11-03T18:07:30.000+08:00"
                }, {
                    "id": 98,
                    "name": "导入产品",
                    "subject": "product",
                    "action": "import",
                    "created_at": "2015-08-25T13:03:38.000+08:00",
                    "updated_at": "2015-08-25T13:03:38.000+08:00"
                }, {
                    "id": 99,
                    "name": "导出产品",
                    "subject": "product",
                    "action": "export",
                    "created_at": "2015-08-25T13:03:38.000+08:00",
                    "updated_at": "2015-08-25T13:03:38.000+08:00"
                }, {
                    "id": 95,
                    "name": "产品分类配置",
                    "subject": "product_category",
                    "action": "crud",
                    "created_at": "2015-08-03T15:57:32.000+08:00",
                    "updated_at": "2015-11-26T14:20:22.000+08:00"
                }, {
                    "id": 282,
                    "name": "订阅/取消风险信息",
                    "subject": "business_query_subscription",
                    "action": "subscription",
                    "created_at": "2017-09-27T12:36:15.000+08:00",
                    "updated_at": "2017-09-27T12:36:15.000+08:00"
                }, {
                    "id": 283,
                    "name": "查看风险信息",
                    "subject": "business_query_subscription",
                    "action": "show",
                    "created_at": "2017-09-27T12:36:15.000+08:00",
                    "updated_at": "2017-09-27T12:36:15.000+08:00"
                }, {
                    "id": 102,
                    "name": "工作报告设置",
                    "subject": "settings",
                    "action": "report_config",
                    "created_at": "2015-10-26T15:21:15.000+08:00",
                    "updated_at": "2015-10-26T15:21:15.000+08:00"
                }, {
                    "id": 103,
                    "name": "导出工作报告",
                    "subject": "schedule_report",
                    "action": "export",
                    "created_at": "2015-10-29T18:01:39.000+08:00",
                    "updated_at": "2015-10-29T18:01:39.000+08:00"
                }, {
                    "id": 241,
                    "name": "删除已批阅工作报告",
                    "subject": "schedule_report",
                    "action": "delete_marked",
                    "created_at": "2017-04-10T17:25:47.000+08:00",
                    "updated_at": "2017-04-10T17:25:47.000+08:00"
                }, {
                    "id": 235,
                    "name": "删除跟进记录",
                    "subject": "revisit_log",
                    "action": "destroy",
                    "created_at": "2016-09-02T14:10:52.000+08:00",
                    "updated_at": "2016-09-02T14:10:52.000+08:00"
                }, {
                    "id": 219,
                    "name": "导入跟进记录",
                    "subject": "revisit_log",
                    "action": "import",
                    "created_at": "2015-11-26T14:20:22.000+08:00",
                    "updated_at": "2015-11-26T14:20:22.000+08:00"
                }, {
                    "id": 220,
                    "name": "导出跟进记录",
                    "subject": "revisit_log",
                    "action": "export",
                    "created_at": "2015-11-26T14:20:22.000+08:00",
                    "updated_at": "2015-11-26T14:20:22.000+08:00"
                }, {
                    "id": 238,
                    "name": "发送短信",
                    "subject": "sms",
                    "action": "send",
                    "created_at": "2017-03-08T21:38:58.000+08:00",
                    "updated_at": "2017-03-08T21:38:58.000+08:00"
                }, {
                    "id": 242,
                    "name": "签名设置",
                    "subject": "sms_identity",
                    "action": "crud",
                    "created_at": "2017-04-13T14:07:04.000+08:00",
                    "updated_at": "2017-04-13T14:07:04.000+08:00"
                }, {
                    "id": 243,
                    "name": "限额配置",
                    "subject": "sms_quota",
                    "action": "crud",
                    "created_at": "2017-04-13T14:07:04.000+08:00",
                    "updated_at": "2017-04-13T14:07:04.000+08:00"
                }, {
                    "id": 244,
                    "name": "新增模板",
                    "subject": "sms_template",
                    "action": "create",
                    "created_at": "2017-04-13T14:07:04.000+08:00",
                    "updated_at": "2017-04-13T14:07:04.000+08:00"
                }, {
                    "id": 245,
                    "name": "删除模板",
                    "subject": "sms_template",
                    "action": "delete",
                    "created_at": "2017-04-13T14:07:04.000+08:00",
                    "updated_at": "2017-04-13T14:07:04.000+08:00"
                }, {
                    "id": 252,
                    "name": "节日祝福配置",
                    "subject": "sms_template_festival",
                    "action": "config",
                    "created_at": "2017-06-09T09:54:22.000+08:00",
                    "updated_at": "2017-06-09T09:54:22.000+08:00"
                }, {
                    "id": 253,
                    "name": "生日祝福配置",
                    "subject": "sms_template_birthday",
                    "action": "config",
                    "created_at": "2017-06-09T09:54:22.000+08:00",
                    "updated_at": "2017-06-09T09:54:22.000+08:00"
                }, {
                    "id": 223,
                    "name": "报表中心导出",
                    "subject": "report_center",
                    "action": "export",
                    "created_at": "2015-11-26T14:20:22.000+08:00",
                    "updated_at": "2015-11-26T14:20:22.000+08:00"
                }, {
                    "id": 234,
                    "name": "查看报表",
                    "subject": "report_center",
                    "action": "show",
                    "created_at": "2016-06-13T18:14:13.000+08:00",
                    "updated_at": "2016-06-13T18:14:13.000+08:00"
                }, {
                    "id": 42,
                    "name": "公告设置",
                    "subject": "announcement",
                    "action": "crud",
                    "created_at": "2014-08-21T10:07:09.000+08:00",
                    "updated_at": "2015-11-26T14:20:22.000+08:00"
                }, {
                    "id": 77,
                    "name": "设置业务目标",
                    "subject": "business_goal",
                    "action": "edit",
                    "created_at": "2014-12-16T11:28:07.000+08:00",
                    "updated_at": "2014-12-16T11:28:07.000+08:00"
                }, {
                    "id": 78,
                    "name": "查看业务目标",
                    "subject": "business_goal",
                    "action": "show",
                    "created_at": "2014-12-23T17:04:49.000+08:00",
                    "updated_at": "2014-12-23T17:04:49.000+08:00"
                }, {
                    "id": 277,
                    "name": "设置业绩提成",
                    "subject": "sales_commission",
                    "action": "setting",
                    "created_at": "2017-08-08T20:16:26.000+08:00",
                    "updated_at": "2017-08-08T20:16:26.000+08:00"
                }, {
                    "id": 278,
                    "name": "提成计算",
                    "subject": "sales_commission",
                    "action": "edit",
                    "created_at": "2017-08-08T20:16:26.000+08:00",
                    "updated_at": "2017-08-08T20:16:26.000+08:00"
                }, {
                    "id": 279,
                    "name": "查看业绩提成",
                    "subject": "sales_commission",
                    "action": "show",
                    "created_at": "2017-08-08T20:16:26.000+08:00",
                    "updated_at": "2017-08-08T20:16:26.000+08:00"
                }, {
                    "id": 82,
                    "name": "客户查重设置",
                    "subject": "settings",
                    "action": "customer_duplicate",
                    "created_at": "2015-04-01T18:45:50.000+08:00",
                    "updated_at": "2015-04-01T18:45:50.000+08:00"
                }, {
                    "id": 291,
                    "name": "线索池设置",
                    "subject": "settings",
                    "action": "lead",
                    "created_at": "2018-07-13T16:39:35.000+08:00",
                    "updated_at": "2018-07-13T16:39:35.000+08:00"
                }, {
                    "id": 51,
                    "name": "客户公海设置",
                    "subject": "settings",
                    "action": "customer",
                    "created_at": "2014-11-19T21:13:30.000+08:00",
                    "updated_at": "2014-11-19T21:13:30.000+08:00"
                }, {
                    "id": 91,
                    "name": "数据上报设置",
                    "subject": "data_report",
                    "action": "crud",
                    "created_at": "2015-07-28T11:05:35.000+08:00",
                    "updated_at": "2015-11-26T14:20:22.000+08:00"
                }, {
                    "id": 81,
                    "name": "自定义业务字段设置",
                    "subject": "custom_field_setting",
                    "action": "crud",
                    "created_at": "2015-01-22T21:54:52.000+08:00",
                    "updated_at": "2015-11-26T14:20:22.000+08:00"
                }, {
                    "id": 236,
                    "name": "呼叫中心设置",
                    "subject": "call_center",
                    "action": "crud",
                    "created_at": "2016-09-21T10:53:05.000+08:00",
                    "updated_at": "2016-09-21T10:53:05.000+08:00"
                }, {
                    "id": 284,
                    "name": "自定义业务模版设置",
                    "subject": "custom_template_setting",
                    "action": "crud",
                    "created_at": "2017-11-20T10:00:18.000+08:00",
                    "updated_at": "2017-11-20T10:00:18.000+08:00"
                }, {
                    "id": 37,
                    "name": "日志查询",
                    "subject": "log",
                    "action": "show",
                    "created_at": "2014-07-23T17:19:05.000+08:00",
                    "updated_at": "2014-07-23T17:19:05.000+08:00"
                }, {
                    "id": 288,
                    "name": "自定义打印模版设置",
                    "subject": "print_template",
                    "action": "crud",
                    "created_at": "2018-01-17T18:39:12.000+08:00",
                    "updated_at": "2018-01-17T18:39:12.000+08:00"
                }, {
                    "id": 94,
                    "name": "合同审批设置",
                    "subject": "settings",
                    "action": "contract_approve",
                    "created_at": "2015-07-28T11:05:35.000+08:00",
                    "updated_at": "2015-07-28T11:05:35.000+08:00"
                }, {
                    "id": 247,
                    "name": "自定义业务管理",
                    "subject": "settings",
                    "action": "custom_features",
                    "created_at": "2017-05-18T14:38:14.000+08:00",
                    "updated_at": "2017-05-18T14:38:14.000+08:00"
                }, {
                    "id": 30,
                    "name": "自定义业务参数设置",
                    "subject": "field_map",
                    "action": "crud",
                    "created_at": "2014-07-23T17:19:05.000+08:00",
                    "updated_at": "2015-11-26T14:20:22.000+08:00"
                }, {
                    "id": 298,
                    "name": "自定义业务标签管理",
                    "subject": "label",
                    "action": "crud",
                    "created_at": "2018-09-12T21:11:16.000+08:00",
                    "updated_at": "2018-09-12T21:11:16.000+08:00"
                }],
                "raw_permissions": [{
                    "subject": "lead",
                    "action": "show"
                }, {
                    "subject": "lead",
                    "action": "create"
                }, {
                    "subject": "lead",
                    "action": "edit"
                }, {
                    "subject": "lead",
                    "action": "destroy"
                }, {
                    "subject": "lead",
                    "action": "import"
                }, {
                    "subject": "lead",
                    "action": "export"
                }, {
                    "subject": "lead",
                    "action": "turn_to_customer"
                }, {
                    "subject": "lead",
                    "action": "transfer"
                }, {
                    "subject": "customer",
                    "action": "show"
                }, {
                    "subject": "customer",
                    "action": "create"
                }, {
                    "subject": "customer",
                    "action": "edit"
                }, {
                    "subject": "customer",
                    "action": "destroy"
                }, {
                    "subject": "customer",
                    "action": "import"
                }, {
                    "subject": "customer",
                    "action": "export"
                }, {
                    "subject": "customer",
                    "action": "transfer"
                }, {
                    "subject": "customer",
                    "action": "merge"
                }, {
                    "subject": "settings",
                    "action": "turn_customer_common"
                }, {
                    "subject": "settings",
                    "action": "import_customer_common"
                }, {
                    "subject": "settings",
                    "action": "show_customer_common"
                }, {
                    "subject": "contact",
                    "action": "show"
                }, {
                    "subject": "contact",
                    "action": "create"
                }, {
                    "subject": "contact",
                    "action": "edit"
                }, {
                    "subject": "contact",
                    "action": "destroy"
                }, {
                    "subject": "contact",
                    "action": "import"
                }, {
                    "subject": "contact",
                    "action": "export"
                }, {
                    "subject": "opportunity",
                    "action": "show"
                }, {
                    "subject": "opportunity",
                    "action": "create"
                }, {
                    "subject": "opportunity",
                    "action": "edit"
                }, {
                    "subject": "opportunity",
                    "action": "destroy"
                }, {
                    "subject": "opportunity",
                    "action": "import"
                }, {
                    "subject": "opportunity",
                    "action": "export"
                }, {
                    "subject": "opportunity",
                    "action": "transfer"
                }, {
                    "subject": "opportunity",
                    "action": "print"
                }, {
                    "subject": "contract",
                    "action": "show"
                }, {
                    "subject": "contract",
                    "action": "create"
                }, {
                    "subject": "contract",
                    "action": "edit"
                }, {
                    "subject": "contract",
                    "action": "destroy"
                }, {
                    "subject": "contract",
                    "action": "import"
                }, {
                    "subject": "contract",
                    "action": "export"
                }, {
                    "subject": "contract",
                    "action": "transfer"
                }, {
                    "subject": "contract",
                    "action": "print"
                }, {
                    "subject": "received_payment_plan",
                    "action": "crud"
                }, {
                    "subject": "received_payment_plan",
                    "action": "export"
                }, {
                    "subject": "received_payment",
                    "action": "show"
                }, {
                    "subject": "received_payment",
                    "action": "create"
                }, {
                    "subject": "received_payment",
                    "action": "edit"
                }, {
                    "subject": "received_payment",
                    "action": "destroy"
                }, {
                    "subject": "received_payment_plan",
                    "action": "import"
                }, {
                    "subject": "received_payment",
                    "action": "import"
                }, {
                    "subject": "received_payment",
                    "action": "export"
                }, {
                    "subject": "invoiced_payment",
                    "action": "show"
                }, {
                    "subject": "invoiced_payment",
                    "action": "create"
                }, {
                    "subject": "invoiced_payment",
                    "action": "edit"
                }, {
                    "subject": "invoiced_payment",
                    "action": "destroy"
                }, {
                    "subject": "invoiced_payment",
                    "action": "import"
                }, {
                    "subject": "social_promotion",
                    "action": "show"
                }, {
                    "subject": "social_promotion",
                    "action": "create"
                }, {
                    "subject": "social_promotion",
                    "action": "edit"
                }, {
                    "subject": "social_promotion",
                    "action": "destroy"
                }, {
                    "subject": "product",
                    "action": "show"
                }, {
                    "subject": "product",
                    "action": "create"
                }, {
                    "subject": "product",
                    "action": "edit"
                }, {
                    "subject": "product",
                    "action": "destroy"
                }, {
                    "subject": "product",
                    "action": "import"
                }, {
                    "subject": "product",
                    "action": "export"
                }, {
                    "subject": "product_category",
                    "action": "crud"
                }, {
                    "subject": "business_query_subscription",
                    "action": "subscription"
                }, {
                    "subject": "business_query_subscription",
                    "action": "show"
                }, {
                    "subject": "settings",
                    "action": "report_config"
                }, {
                    "subject": "schedule_report",
                    "action": "export"
                }, {
                    "subject": "schedule_report",
                    "action": "delete_marked"
                }, {
                    "subject": "revisit_log",
                    "action": "destroy"
                }, {
                    "subject": "revisit_log",
                    "action": "import"
                }, {
                    "subject": "revisit_log",
                    "action": "export"
                }, {
                    "subject": "sms",
                    "action": "send"
                }, {
                    "subject": "sms_identity",
                    "action": "crud"
                }, {
                    "subject": "sms_quota",
                    "action": "crud"
                }, {
                    "subject": "sms_template",
                    "action": "create"
                }, {
                    "subject": "sms_template",
                    "action": "delete"
                }, {
                    "subject": "sms_template_festival",
                    "action": "config"
                }, {
                    "subject": "sms_template_birthday",
                    "action": "config"
                }, {
                    "subject": "report_center",
                    "action": "export"
                }, {
                    "subject": "report_center",
                    "action": "show"
                }, {
                    "subject": "role",
                    "action": "show"
                }, {
                    "subject": "role",
                    "action": "edit"
                }, {
                    "subject": "announcement",
                    "action": "crud"
                }, {
                    "subject": "business_goal",
                    "action": "edit"
                }, {
                    "subject": "business_goal",
                    "action": "show"
                }, {
                    "subject": "sales_commission",
                    "action": "setting"
                }, {
                    "subject": "sales_commission",
                    "action": "edit"
                }, {
                    "subject": "sales_commission",
                    "action": "show"
                }, {
                    "subject": "settings",
                    "action": "customer_duplicate"
                }, {
                    "subject": "settings",
                    "action": "customer"
                }, {
                    "subject": "settings",
                    "action": "lead"
                }, {
                    "subject": "data_report",
                    "action": "crud"
                }, {
                    "subject": "call_center",
                    "action": "crud"
                }, {
                    "subject": "custom_template_setting",
                    "action": "crud"
                }, {
                    "subject": "custom_field_setting",
                    "action": "crud"
                }, {
                    "subject": "field_map",
                    "action": "crud"
                }, {
                    "subject": "label",
                    "action": "crud"
                }, {
                    "subject": "settings",
                    "action": "custom_features"
                }, {
                    "subject": "settings",
                    "action": "contract_approve"
                }, {
                    "subject": "print_template",
                    "action": "crud"
                }, {
                    "subject": "log",
                    "action": "show"
                }]
            }
        }
        # print (payload)
        response = self.common.put_json(url ,json.dumps(payload),'seteqwe_data_authority')
        print(response)

    def ding_set_data_authority(self,entity_grant_scope='self_and_subordinate_department_own'):
        url = self.baseUrl + 'api/roles/' + str(self.get_roles_id()[0][1][0])
        # print (url)
        # print (entity_grant_scope)
        or_id = self.get_roles_id()[1][0]
        # print (or_id)
        payload = { "role": {
            "id": self.get_roles_id()[0][1][0],
            "name":self.get_roles_id()[0][1][1],
            "description": "null",
            "organization_id": or_id,
            "created_at": "2018-08-17T10:58:14.000+08:00",
            "updated_at": "2019-01-24T12:43:37.228+08:00",
            "settings": {
                "default_role": 'true'
            },
            "entity_grant_scope": entity_grant_scope,
            "field_permission_grant_scope": "all_data",
            "fields_permission_display": {
                "lead": {
                    "model_name": "线索",
                    "setting": [{
                        "edit": "-1",
                        "name": "name",
                        "label": "姓名"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "company_name",
                        "label": "公司名称"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "address.tel",
                        "label": "电话"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "address.phone",
                        "label": "手机"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "address.detail_address",
                        "label": "地址"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "status_mapped",
                        "label": "跟进状态"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "revisit_remind_at",
                        "label": "下次跟进时间"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "note",
                        "label": "备注"
                    }]
                },
                "customer": {
                    "model_name": "客户",
                    "setting": [{
                        "edit": "-1",
                        "name": "name",
                        "label": "客户名称"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "labels_mapped",
                        "label": "标签"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "category_mapped",
                        "label": "客户类型"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "parent.name",
                        "label": "上级客户"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "address.tel",
                        "label": "电话"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "address.phone",
                        "label": "手机"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "address.detail_address",
                        "label": "地址"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "status_mapped",
                        "label": "跟进状态"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "revisit_remind_at",
                        "label": "下次跟进时间"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "note",
                        "label": "备注"
                    }]
                },
                "contact": {
                    "model_name": "联系人",
                    "setting": [{
                        "edit": "-1",
                        "name": "name",
                        "label": "姓名"
                    }, {
                        "edit": "-1",
                        "name": "customer.name",
                        "label": "对应客户"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "job",
                        "label": "职务"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "address.tel",
                        "label": "电话"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "address.phone",
                        "label": "手机"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "address.email",
                        "label": "邮箱"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "note",
                        "label": "备注"
                    }]
                },
                "contract": {
                    "model_name": "合同",
                    "setting": [{
                        "edit": "-1",
                        "name": "title",
                        "label": "合同标题"
                    }, {
                        "edit": "-1",
                        "name": "customer.name",
                        "label": "对应客户"
                    }, {
                        "edit": "-1",
                        "name": "opportunity.title",
                        "label": "对应商机"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "product_assets",
                        "label": "关联产品"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "total_amount",
                        "label": "合同总金额"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "sign_date",
                        "label": "签约日期"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "start_at",
                        "label": "合同开始日期"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "end_at",
                        "label": "合同结束日期"
                    }, {
                        "status": "-1",
                        "name": "checking_payments_amount",
                        "label": "已开票金额"
                    }, {
                        "status": "-1",
                        "name": "received_payments_amount",
                        "label": "已回款金额"
                    }, {
                        "status": "-1",
                        "name": "unreceived_amount",
                        "label": "未回款金额"
                    }, {
                        "status": "-1",
                        "name": "unchecking_payments_amount",
                        "label": "未开票金额"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "status_mapped",
                        "label": "合同状态"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "sn",
                        "label": "合同编号"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "category_mapped",
                        "label": "合同类型"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "payment_type_mapped",
                        "label": "付款方式"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "customer_signer",
                        "label": "客户方签约人"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "our_signer",
                        "label": "我方签约人"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "attachments",
                        "label": "合同附件"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "revisit_remind_at",
                        "label": "下次跟进时间"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "special_terms",
                        "label": "备注"
                    }, {
                        "status": "-1",
                        "name": "product_asset.standard_unit_price",
                        "label": "[关联产品]标准单价"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "product_asset.recommended_unit_price",
                        "label": "[关联产品]售价"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "product_asset.quantity",
                        "label": "[关联产品]数量"
                    }, {
                        "status": "-1",
                        "name": "product_asset.discount",
                        "label": "[关联产品]折扣"
                    }, {
                        "status": "-1",
                        "name": "product_asset.total_price",
                        "label": "[关联产品]总价"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "product_asset.remark",
                        "label": "[关联产品]备注"
                    }]
                },
                "opportunity": {
                    "model_name": "商机",
                    "setting": [{
                        "edit": "-1",
                        "name": "title",
                        "label": "商机标题"
                    }, {
                        "edit": "-1",
                        "name": "customer.name",
                        "label": "对应客户"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "contact_assetships",
                        "label": "关联联系人"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "product_assets",
                        "label": "关联产品"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "expect_amount",
                        "label": "预计销售金额"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "expect_sign_date",
                        "label": "预计签单日期"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "stage_mapped",
                        "label": "销售阶段"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "revisit_remind_at",
                        "label": "下次跟进时间"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "note",
                        "label": "备注"
                    }, {
                        "status": "-1",
                        "name": "product_asset.standard_unit_price",
                        "label": "[关联产品]标准单价"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "product_asset.recommended_unit_price",
                        "label": "[关联产品]售价"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "product_asset.quantity",
                        "label": "[关联产品]数量"
                    }, {
                        "status": "-1",
                        "name": "product_asset.discount",
                        "label": "[关联产品]折扣"
                    }, {
                        "status": "-1",
                        "name": "product_asset.total_price",
                        "label": "[关联产品]总价"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "product_asset.remark",
                        "label": "[关联产品]备注"
                    }]
                },
                "product": {
                    "model_name": "产品",
                    "setting": [{
                        "edit": "-1",
                        "name": "name",
                        "label": "产品名称"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "standard_unit_price",
                        "label": "标准单价"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "unit_cost",
                        "label": "单位成本"
                    }, {
                        "status": "-1",
                        "name": "gross_margin",
                        "label": "毛利率"
                    }, {
                        "edit": "-1",
                        "status": "-1",
                        "name": "text_asset_de5594",
                        "label": "规格"
                    }]
                }
            },
            "field_permission_setting": {
                "lead": [{
                    "name": "name",
                    "edit": "-1"
                }, {
                    "name": "company_name",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "address.tel",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "address.phone",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "address.detail_address",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "status_mapped",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "revisit_remind_at",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "note",
                    "status": "-1",
                    "edit": "-1"
                }],
                "customer": [{
                    "name": "name",
                    "edit": "-1"
                }, {
                    "name": "labels_mapped",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "category_mapped",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "parent.name",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "address.tel",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "address.phone",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "address.detail_address",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "status_mapped",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "revisit_remind_at",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "note",
                    "status": "-1",
                    "edit": "-1"
                }],
                "contact": [{
                    "name": "name",
                    "edit": "-1"
                }, {
                    "name": "customer.name",
                    "edit": "-1"
                }, {
                    "name": "job",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "address.tel",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "address.phone",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "address.email",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "note",
                    "status": "-1",
                    "edit": "-1"
                }],
                "opportunity": [{
                    "name": "title",
                    "edit": "-1"
                }, {
                    "name": "customer.name",
                    "edit": "-1"
                }, {
                    "name": "contact_assetships",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "product_assets",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "expect_amount",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "expect_sign_date",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "stage_mapped",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "revisit_remind_at",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "note",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "product_asset.standard_unit_price",
                    "status": "-1"
                }, {
                    "name": "product_asset.recommended_unit_price",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "product_asset.quantity",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "product_asset.discount",
                    "status": "-1"
                }, {
                    "name": "product_asset.total_price",
                    "status": "-1"
                }, {
                    "name": "product_asset.remark",
                    "status": "-1",
                    "edit": "-1"
                }],
                "contract": [{
                    "name": "title",
                    "edit": "-1"
                }, {
                    "name": "customer.name",
                    "edit": "-1"
                }, {
                    "name": "opportunity.title",
                    "edit": "-1"
                }, {
                    "name": "product_assets",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "total_amount",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "sign_date",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "start_at",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "end_at",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "checking_payments_amount",
                    "status": "-1"
                }, {
                    "name": "received_payments_amount",
                    "status": "-1"
                }, {
                    "name": "unreceived_amount",
                    "status": "-1"
                }, {
                    "name": "unchecking_payments_amount",
                    "status": "-1"
                }, {
                    "name": "status_mapped",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "sn",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "category_mapped",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "payment_type_mapped",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "customer_signer",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "our_signer",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "attachments",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "revisit_remind_at",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "special_terms",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "product_asset.standard_unit_price",
                    "status": "-1"
                }, {
                    "name": "product_asset.recommended_unit_price",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "product_asset.quantity",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "product_asset.discount",
                    "status": "-1"
                }, {
                    "name": "product_asset.total_price",
                    "status": "-1"
                }, {
                    "name": "product_asset.remark",
                    "status": "-1",
                    "edit": "-1"
                }],
                "product": [{
                    "name": "name",
                    "edit": "-1"
                }, {
                    "name": "standard_unit_price",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "unit_cost",
                    "status": "-1",
                    "edit": "-1"
                }, {
                    "name": "gross_margin",
                    "status": "-1"
                }, {
                    "name": "text_asset_de5594",
                    "status": "-1",
                    "edit": "-1"
                }]
            },
            "permissions": [{
                "id": 1,
                "name": "编辑客户资料",
                "subject": "customer",
                "action": "edit",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 2,
                "name": "查看客户资料",
                "subject": "customer",
                "action": "show",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 4,
                "name": "创建客户",
                "subject": "customer",
                "action": "create",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 55,
                "name": "导入客户",
                "subject": "customer",
                "action": "import",
                "created_at": "2014-12-16T11:28:06.000+08:00",
                "updated_at": "2014-12-16T11:28:06.000+08:00"
            }, {
                "id": 86,
                "name": "转移客户给他人",
                "subject": "customer",
                "action": "transfer",
                "created_at": "2015-05-11T18:05:45.000+08:00",
                "updated_at": "2015-05-11T18:05:45.000+08:00"
            }, {
                "id": 5,
                "name": "编辑联系人资料",
                "subject": "contact",
                "action": "edit",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 6,
                "name": "查看联系人资料",
                "subject": "contact",
                "action": "show",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 8,
                "name": "创建联系人",
                "subject": "contact",
                "action": "create",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 57,
                "name": "导入联系人",
                "subject": "contact",
                "action": "import",
                "created_at": "2014-12-16T11:28:06.000+08:00",
                "updated_at": "2014-12-16T11:28:06.000+08:00"
            }, {
                "id": 9,
                "name": "编辑商机资料",
                "subject": "opportunity",
                "action": "edit",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 10,
                "name": "查看商机资料",
                "subject": "opportunity",
                "action": "show",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 12,
                "name": "创建商机",
                "subject": "opportunity",
                "action": "create",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 96,
                "name": "导入商机",
                "subject": "opportunity",
                "action": "import",
                "created_at": "2015-08-24T15:14:04.000+08:00",
                "updated_at": "2015-08-24T15:14:04.000+08:00"
            }, {
                "id": 87,
                "name": "转移商机给他人",
                "subject": "opportunity",
                "action": "transfer",
                "created_at": "2015-05-11T18:05:45.000+08:00",
                "updated_at": "2015-05-11T18:05:45.000+08:00"
            }, {
                "id": 38,
                "name": "编辑销售线索资料",
                "subject": "lead",
                "action": "edit",
                "created_at": "2014-08-01T17:06:55.000+08:00",
                "updated_at": "2014-08-01T17:06:55.000+08:00"
            }, {
                "id": 39,
                "name": "查看销售线索资料",
                "subject": "lead",
                "action": "show",
                "created_at": "2014-08-01T17:06:55.000+08:00",
                "updated_at": "2014-08-01T17:06:55.000+08:00"
            }, {
                "id": 41,
                "name": "创建销售线索",
                "subject": "lead",
                "action": "create",
                "created_at": "2014-08-01T17:06:55.000+08:00",
                "updated_at": "2014-08-01T17:06:55.000+08:00"
            }, {
                "id": 60,
                "name": "导入线索",
                "subject": "lead",
                "action": "import",
                "created_at": "2014-12-16T11:28:06.000+08:00",
                "updated_at": "2014-12-16T11:28:06.000+08:00"
            }, {
                "id": 240,
                "name": "转成客户",
                "subject": "lead",
                "action": "turn_to_customer",
                "created_at": "2017-03-22T16:49:18.000+08:00",
                "updated_at": "2017-03-22T16:49:18.000+08:00"
            }, {
                "id": 88,
                "name": "转移线索给他人",
                "subject": "lead",
                "action": "transfer",
                "created_at": "2015-05-11T18:05:45.000+08:00",
                "updated_at": "2015-05-11T18:05:45.000+08:00"
            }, {
                "id": 13,
                "name": "编辑合同资料",
                "subject": "contract",
                "action": "edit",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 14,
                "name": "查看合同资料",
                "subject": "contract",
                "action": "show",
                "created_at": "2014-07-23T17:19:04.000+08:00",
                "updated_at": "2014-07-23T17:19:04.000+08:00"
            }, {
                "id": 16,
                "name": "创建合同",
                "subject": "contract",
                "action": "create",
                "created_at": "2014-07-23T17:19:05.000+08:00",
                "updated_at": "2014-07-23T17:19:05.000+08:00"
            }, {
                "id": 89,
                "name": "转移合同给他人",
                "subject": "contract",
                "action": "transfer",
                "created_at": "2015-05-11T18:05:46.000+08:00",
                "updated_at": "2015-05-11T18:05:46.000+08:00"
            }, {
                "id": 238,
                "name": "发送短信",
                "subject": "sms",
                "action": "send",
                "created_at": "2017-03-08T21:38:58.000+08:00",
                "updated_at": "2017-03-08T21:38:58.000+08:00"
            }, {
                "id": 242,
                "name": "签名设置",
                "subject": "sms_identity",
                "action": "crud",
                "created_at": "2017-04-13T14:07:04.000+08:00",
                "updated_at": "2017-04-13T14:07:04.000+08:00"
            }, {
                "id": 243,
                "name": "限额配置",
                "subject": "sms_quota",
                "action": "crud",
                "created_at": "2017-04-13T14:07:04.000+08:00",
                "updated_at": "2017-04-13T14:07:04.000+08:00"
            }, {
                "id": 244,
                "name": "新增模板",
                "subject": "sms_template",
                "action": "create",
                "created_at": "2017-04-13T14:07:04.000+08:00",
                "updated_at": "2017-04-13T14:07:04.000+08:00"
            }, {
                "id": 245,
                "name": "删除模板",
                "subject": "sms_template",
                "action": "delete",
                "created_at": "2017-04-13T14:07:04.000+08:00",
                "updated_at": "2017-04-13T14:07:04.000+08:00"
            }, {
                "id": 254,
                "name": "配置回款计划",
                "subject": "received_payment_plan",
                "action": "crud",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 256,
                "name": "查看回款记录",
                "subject": "received_payment",
                "action": "show",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 257,
                "name": "新增回款记录",
                "subject": "received_payment",
                "action": "create",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 258,
                "name": "编辑回款记录",
                "subject": "received_payment",
                "action": "edit",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 259,
                "name": "删除回款记录",
                "subject": "received_payment",
                "action": "destroy",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 260,
                "name": "导入回款记录",
                "subject": "received_payment",
                "action": "import",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 262,
                "name": "查看开票记录",
                "subject": "invoiced_payment",
                "action": "show",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 263,
                "name": "新增开票记录",
                "subject": "invoiced_payment",
                "action": "create",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 264,
                "name": "编辑开票记录",
                "subject": "invoiced_payment",
                "action": "edit",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 265,
                "name": "删除开票记录",
                "subject": "invoiced_payment",
                "action": "destroy",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 266,
                "name": "导入开票记录",
                "subject": "invoiced_payment",
                "action": "import",
                "created_at": "2017-06-14T01:38:06.000+08:00",
                "updated_at": "2017-06-14T01:38:06.000+08:00"
            }, {
                "id": 282,
                "name": "订阅/取消风险信息",
                "subject": "business_query_subscription",
                "action": "subscription",
                "created_at": "2017-09-27T12:36:15.000+08:00",
                "updated_at": "2017-09-27T12:36:15.000+08:00"
            }, {
                "id": 283,
                "name": "查看风险信息",
                "subject": "business_query_subscription",
                "action": "show",
                "created_at": "2017-09-27T12:36:15.000+08:00",
                "updated_at": "2017-09-27T12:36:15.000+08:00"
            }, {
                "id": 30,
                "name": "自定义业务参数设置",
                "subject": "field_map",
                "action": "crud",
                "created_at": "2014-07-23T17:19:05.000+08:00",
                "updated_at": "2015-11-26T14:20:22.000+08:00"
            }, {
                "id": 85,
                "name": "导入至客户公海",
                "subject": "settings",
                "action": "import_customer_common",
                "created_at": "2015-04-24T16:08:20.000+08:00",
                "updated_at": "2015-04-24T16:08:20.000+08:00"
            }, {
                "id": 51,
                "name": "客户公海设置",
                "subject": "settings",
                "action": "customer",
                "created_at": "2014-11-19T21:13:30.000+08:00",
                "updated_at": "2014-11-19T21:13:30.000+08:00"
            }, {
                "id": 84,
                "name": "转移至客户公海",
                "subject": "settings",
                "action": "turn_customer_common",
                "created_at": "2015-04-24T11:49:35.000+08:00",
                "updated_at": "2015-04-24T11:49:35.000+08:00"
            }, {
                "id": 232,
                "name": "查看客户公海",
                "subject": "settings",
                "action": "show_customer_common",
                "created_at": "2016-06-07T13:58:57.000+08:00",
                "updated_at": "2016-06-07T13:58:57.000+08:00"
            }, {
                "id": 291,
                "name": "线索池设置",
                "subject": "settings",
                "action": "lead",
                "created_at": "2018-07-19T10:04:15.000+08:00",
                "updated_at": "2018-07-19T10:04:15.000+08:00"
            }, {
                "id": 64,
                "name": "查看产品",
                "subject": "product",
                "action": "show",
                "created_at": "2014-12-16T11:28:07.000+08:00",
                "updated_at": "2014-12-16T11:28:07.000+08:00"
            }, {
                "id": 63,
                "name": "查看角色",
                "subject": "role",
                "action": "show",
                "created_at": "2014-12-16T11:28:07.000+08:00",
                "updated_at": "2014-12-16T11:28:07.000+08:00"
            }, {
                "id": 78,
                "name": "查看业务目标",
                "subject": "business_goal",
                "action": "show",
                "created_at": "2014-12-23T17:04:49.000+08:00",
                "updated_at": "2014-12-23T17:04:49.000+08:00"
            }, {
                "id": 219,
                "name": "导入跟进记录",
                "subject": "revisit_log",
                "action": "import",
                "created_at": "2015-11-26T14:20:22.000+08:00",
                "updated_at": "2015-11-26T14:20:22.000+08:00"
            }, {
                "id": 234,
                "name": "查看报表",
                "subject": "report_center",
                "action": "show",
                "created_at": "2016-06-13T18:14:13.000+08:00",
                "updated_at": "2016-06-13T18:14:13.000+08:00"
            }, {
                "id": 294,
                "name": "查看活动",
                "subject": "social_promotion",
                "action": "show",
                "created_at": "2018-09-02T14:13:15.000+08:00",
                "updated_at": "2018-09-02T14:13:15.000+08:00"
            }, {
                "id": 295,
                "name": "新增活动",
                "subject": "social_promotion",
                "action": "create",
                "created_at": "2018-09-02T14:13:15.000+08:00",
                "updated_at": "2018-09-02T14:13:15.000+08:00"
            }, {
                "id": 296,
                "name": "编辑活动",
                "subject": "social_promotion",
                "action": "edit",
                "created_at": "2018-09-02T14:13:15.000+08:00",
                "updated_at": "2018-09-02T14:13:15.000+08:00"
            }, {
                "id": 297,
                "name": "删除活动",
                "subject": "social_promotion",
                "action": "destroy",
                "created_at": "2018-09-02T14:13:15.000+08:00",
                "updated_at": "2018-09-02T14:13:15.000+08:00"
            }, {
                "id": 226,
                "name": "查看文档",
                "subject": "knowledge_article",
                "action": "show",
                "created_at": "2016-06-07T11:31:46.000+08:00",
                "updated_at": "2016-06-07T11:31:46.000+08:00"
            }, {
                "id": 228,
                "name": "新增文档",
                "subject": "knowledge_article",
                "action": "create",
                "created_at": "2016-06-07T11:31:46.000+08:00",
                "updated_at": "2016-06-07T11:31:46.000+08:00"
            }, {
                "id": 227,
                "name": "编辑文档",
                "subject": "knowledge_article",
                "action": "edit",
                "created_at": "2016-06-07T11:31:46.000+08:00",
                "updated_at": "2016-06-07T11:31:46.000+08:00"
            }, {
                "id": 75,
                "name": "查看组织架构",
                "subject": "user_center",
                "action": "show",
                "created_at": "2014-12-16T11:28:07.000+08:00",
                "updated_at": "2014-12-16T11:28:07.000+08:00"
            }, {
                "id": 65,
                "name": "查看公司信息",
                "subject": "organization",
                "action": "show",
                "created_at": "2014-12-16T11:28:07.000+08:00",
                "updated_at": "2014-12-16T11:28:07.000+08:00"
            }, {
                "id": 76,
                "name": "组织架构管理",
                "subject": "user_center",
                "action": "edit",
                "created_at": "2014-12-16T11:28:07.000+08:00",
                "updated_at": "2014-12-16T11:28:07.000+08:00"
            }, {
                "id": 26,
                "name": "编辑角色",
                "subject": "role",
                "action": "edit",
                "created_at": "2014-07-23T17:19:05.000+08:00",
                "updated_at": "2014-07-23T17:19:05.000+08:00"
            }],
            "raw_permissions": [{
                "subject": "lead",
                "action": "show"
            }, {
                "subject": "lead",
                "action": "create"
            }, {
                "subject": "lead",
                "action": "edit"
            }, {
                "subject": "lead",
                "action": "import"
            }, {
                "subject": "lead",
                "action": "turn_to_customer"
            }, {
                "subject": "lead",
                "action": "transfer"
            }, {
                "subject": "customer",
                "action": "show"
            }, {
                "subject": "customer",
                "action": "create"
            }, {
                "subject": "customer",
                "action": "edit"
            }, {
                "subject": "customer",
                "action": "import"
            }, {
                "subject": "customer",
                "action": "transfer"
            }, {
                "subject": "settings",
                "action": "turn_customer_common"
            }, {
                "subject": "settings",
                "action": "import_customer_common"
            }, {
                "subject": "settings",
                "action": "show_customer_common"
            }, {
                "subject": "contact",
                "action": "show"
            }, {
                "subject": "contact",
                "action": "create"
            }, {
                "subject": "contact",
                "action": "edit"
            }, {
                "subject": "contact",
                "action": "import"
            }, {
                "subject": "opportunity",
                "action": "show"
            }, {
                "subject": "opportunity",
                "action": "create"
            }, {
                "subject": "opportunity",
                "action": "edit"
            }, {
                "subject": "opportunity",
                "action": "import"
            }, {
                "subject": "opportunity",
                "action": "transfer"
            }, {
                "subject": "contract",
                "action": "show"
            }, {
                "subject": "contract",
                "action": "create"
            }, {
                "subject": "contract",
                "action": "edit"
            }, {
                "subject": "contract",
                "action": "transfer"
            }, {
                "subject": "received_payment_plan",
                "action": "crud"
            }, {
                "subject": "received_payment",
                "action": "show"
            }, {
                "subject": "received_payment",
                "action": "create"
            }, {
                "subject": "received_payment",
                "action": "edit"
            }, {
                "subject": "received_payment",
                "action": "destroy"
            }, {
                "subject": "received_payment",
                "action": "import"
            }, {
                "subject": "invoiced_payment",
                "action": "show"
            }, {
                "subject": "invoiced_payment",
                "action": "create"
            }, {
                "subject": "invoiced_payment",
                "action": "edit"
            }, {
                "subject": "invoiced_payment",
                "action": "destroy"
            }, {
                "subject": "invoiced_payment",
                "action": "import"
            }, {
                "subject": "social_promotion",
                "action": "show"
            }, {
                "subject": "social_promotion",
                "action": "create"
            }, {
                "subject": "social_promotion",
                "action": "edit"
            }, {
                "subject": "social_promotion",
                "action": "destroy"
            }, {
                "subject": "product",
                "action": "show"
            }, {
                "subject": "business_query_subscription",
                "action": "subscription"
            }, {
                "subject": "business_query_subscription",
                "action": "show"
            }, {
                "subject": "revisit_log",
                "action": "import"
            }, {
                "subject": "knowledge_article",
                "action": "show"
            }, {
                "subject": "knowledge_article",
                "action": "create"
            }, {
                "subject": "knowledge_article",
                "action": "edit"
            }, {
                "subject": "sms",
                "action": "send"
            }, {
                "subject": "sms_identity",
                "action": "crud"
            }, {
                "subject": "sms_quota",
                "action": "crud"
            }, {
                "subject": "sms_template",
                "action": "create"
            }, {
                "subject": "sms_template",
                "action": "delete"
            }, {
                "subject": "report_center",
                "action": "show"
            }, {
                "subject": "user_center",
                "action": "show"
            }, {
                "subject": "user_center",
                "action": "edit"
            }, {
                "subject": "role",
                "action": "show"
            }, {
                "subject": "role",
                "action": "edit"
            }, {
                "subject": "organization",
                "action": "show"
            }, {
                "subject": "business_goal",
                "action": "show"
            }, {
                "subject": "settings",
                "action": "customer"
            }, {
                "subject": "settings",
                "action": "lead"
            }, {
                "subject": "field_map",
                "action": "crud"
            }]
        }
        }
        # print (payload)
        response = self.common.put_json(url ,json.dumps(payload),'seteqwe_data_authority')
        print(response)
